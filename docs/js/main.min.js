function startHero(){document.documentElement.style.overflow="visible",document.querySelector(".container--fullscreen").style.animationPlayState="running",document.querySelector(".menu__button").style.animationPlayState="running",document.querySelector(".header__menu").style.animationPlayState="running"}document.querySelector(".header__logo_w").addEventListener("animationend",(e=>{"logoMove"===e.animationName&&startHero()}));const menuBtn=document.querySelector(".menu__button"),menu=document.querySelector(".menu"),menuItem=document.querySelectorAll(".menu__item"),mediaQuery=window.matchMedia("(min-width: 768px)");function handleScreenWidthChange(e){e.matches&&(menu.classList.remove("open"),menuBtn.classList.remove("open"))}menuBtn.addEventListener("click",(()=>{menuBtn.classList.toggle("open"),menu.classList.toggle("open")})),menuItem.forEach((e=>{e.addEventListener("click",(()=>{menuBtn.classList.remove("open"),menu.classList.remove("open")}))})),handleScreenWidthChange(mediaQuery),mediaQuery.addEventListener("change",handleScreenWidthChange);const header=document.querySelector(".header"),mediaQuery2=window.matchMedia("(max-width: 1023.89px)");function handleScroll(){window.scrollY>50?header.classList.add("shrink"):header.classList.remove("shrink")}function checkScreenWidth(){mediaQuery2.matches?window.addEventListener("scroll",handleScroll):(window.removeEventListener("scroll",handleScroll),header.classList.remove("shrink"))}checkScreenWidth(),mediaQuery2.addEventListener("change",checkScreenWidth);const popupButtonAll=document.querySelectorAll("[data-popup-button]"),popupAll=document.querySelectorAll("[data-popup]");popupButtonAll.forEach((function(e){e.addEventListener("mouseup",(function(e){document.querySelector("#"+e.target.dataset.popupButton).classList.add("active"),document.querySelector(".popup__close").focus()}))})),popupButtonAll.forEach((function(e){e.addEventListener("keydown",(function(e){"Enter"===e.key&&(document.querySelector("#"+e.target.dataset.popupButton).classList.add("active"),document.querySelector(".popup__close").focus())}))})),popupAll.forEach((function(e){e.querySelector("[data-popup-close]"),e.querySelector("[data-popup-close]").addEventListener("mouseup",(function(){e.classList.remove("active")})),e.addEventListener("keydown",(function(t){"Enter"===t.key&&document.activeElement===e.querySelector("[data-popup-close]")&&e.classList.remove("active")})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.classList.remove("active")})),e.querySelector("[data-popup-window]").addEventListener("mouseup",(function(e){e.stopPropagation()})),e.addEventListener("mouseup",(function(){e.classList.remove("active")}))}));let telInput=document.querySelector("._tel"),validData=document.querySelector(".success__desr_item"),errroMsgButton=document.querySelector(".changeMessage"),maskOptions={mask:"{+38}(\\000)000-00-00",lazy:!1},mask=new IMask(telInput,maskOptions);function validateForm(e){const t=document.querySelector(e);function n(e){e.classList.add("_error")}function o(e){e.classList.remove("_error")}function s(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}t.addEventListener("submit",(function(e){if(e.preventDefault(),0!==function(e){let t=0,r=e.querySelectorAll("._req");for(let e=0;e<r.length;e++){const a=r[e];o(a),a.classList.contains("_email")?s(a)&&(n(a),t++):"checkbox"===a.getAttribute("type")?!1===a.checked&&(n(a),t++):a.classList.contains("_tel")?12!==mask.unmaskedValue.length&&(n(a),t++):(""===a.value||a.value.length<3||/\d/.test(a.value))&&(n(a),t++)}return t}(t))return;let r=errroMsgButton.innerHTML,a=new FormData(t);t.classList.add("_sending"),setTimeout((()=>{e.target.classList.contains("popup__form")?(a.forEach(((e,t)=>{let n=document.createElement("li");n.textContent=`${t}: ${e}`,validData.appendChild(n)})),t.classList.remove("_sending"),t.classList.add("_hiden")):(t.classList.remove("_sending"),t.classList.add("succes"),errroMsgButton.innerHTML="You just subscribed ðŸ˜Ž")}),2e3),t.reset(),setTimeout((()=>{t.classList.remove("_hiden"),document.querySelector(".popup").classList.remove("active"),e.target.classList.contains("popup__form")?(document.querySelector(".popup__form").classList.remove("_hiden"),validData.innerHTML=""):(t.classList.remove("succes"),errroMsgButton.innerHTML=r)}),1e4)}))}validateForm(".services__subscribe"),validateForm(".popup__form");